import{d as k,j as u,h as g,k as x,o as s,c as l,P as L,_,E as R,F as p,D as y,I as b,l as w,t as m,b as j,n as B,e as h,w as $,a as A,m as C,a5 as E}from"./framework.BaCVF2yn.js";const N={key:0,class:"item loading"},F=["src","alt"],I={key:2,class:"item error"},S={key:3,class:"item null"},V=k({__name:"Image",props:{src:{},alt:{},logo:{type:Boolean},width:{},height:{},borderRadius:{},style:{}},setup(r){const e=r,a=u("loading"),n=u(null),c=u(""),i=g(()=>({...e.style||{},width:e.width||"100px",height:e.height||"200px",borderRadius:e.borderRadius||".25rem"})),t=o=>e.logo?`/assets/logo/${o.lastIndexOf(".")===-1?o+".svg":o}`:o,d=async()=>{if(!e.src){n.value="加载图片失败: 链接无效",a.value="null";return}try{const o=await fetch(t(e.src));if(!o.ok)throw new Error(`加载图片失败: ${o.statusText}`);const v=await o.blob();c.value=URL.createObjectURL(v),a.value="success"}catch(o){n.value=o.message,a.value="error"}};return x(()=>d()),(o,v)=>(s(),l("div",{class:"image",style:L(i.value)},[a.value==="loading"?(s(),l("span",N)):a.value==="success"?(s(),l("img",{key:1,src:c.value,alt:e.alt,class:"item img"},null,8,F)):a.value==="error"?(s(),l("span",I)):(s(),l("span",S))],4))}}),z=_(V,[["__scopeId","data-v-9e585f33"]]),O=["href","title","target"],T={class:"text"},G=k({__name:"LinkBar",props:{data:{},logo:{type:Boolean},imgBorderRadius:{},container:{type:Boolean},deep:{type:Boolean},target:{}},setup(r){const e=r,a=g(()=>e.data?Array.isArray(e.data)?e.data:[e.data]:null);return(n,c)=>{const i=R("LinkBar",!0);return s(),l("div",{class:B(e.container?"links__container":"link-bar")},[(s(!0),l(p,null,y(a.value,(t,d)=>(s(),l(p,null,[!n.deep||!t.items||!t.items.length?(s(),l("a",{class:"link",key:d,href:t.link,title:t.text+"链接",target:e.target||"_blank"},[b(z,{src:t.icon,logo:e.logo,width:"1.2rem",height:"1.2rem",borderRadius:e.imgBorderRadius,alt:""},null,8,["src","logo","borderRadius"]),w("span",T,m(t.text),1)],8,O)):(s(),j(i,{key:1,data:t.items,logo:e.logo,container:e.container,deep:e.deep,target:e.target,borderRadius:e.imgBorderRadius},null,8,["data","logo","container","deep","target","borderRadius"]))],64))),256))],2)}}}),U=_(G,[["__scopeId","data-v-18c9b705"]]),D={key:0,class:"title__normal"},M=k({__name:"LinkGrid",props:{data:{},logo:{type:Boolean},titleLevel:{}},setup(r){const e=r,a=g(()=>e.data?Array.isArray(e.data)?e.data:[e.data]:null),n=k({props:{level:{type:[Number,String],default:2}},setup(c,{slots:i}){return()=>E(`h${c.level}`,{},i)}});return(c,i)=>a.value?(s(!0),l(p,{key:0},y(a.value,(t,d)=>(s(),l("section",{key:d,class:B(["link-grid",{"grid-padding":[void 0,"normal"].some(o=>o===e.titleLevel)||!t.text}])},[t.text&&e.titleLevel?(s(),l(p,{key:0},[e.titleLevel==="normal"?(s(),l("div",D,m(t.text),1)):(s(),j(C(n),{key:1,level:e.titleLevel,class:"title"},{default:$(()=>[A(m(t.text),1)]),_:2},1032,["level"]))],64)):h("",!0),b(U,{class:"links",data:t.items,logo:!0,container:""},null,8,["data"])],2))),128)):h("",!0)}}),te=_(M,[["__scopeId","data-v-36df87da"]]),P="/data/bookmark/ai.json",q="/data/bookmark/backend.json",H="/data/bookmark/frontend/angular.json",J="/data/bookmark/frontend/react.json",K="/data/bookmark/frontend/vue.json",Q="/data/bookmark/java.json",W="/data/bookmark/python.json",X="/data/bookmark/resource.json",f={ai:P,backend:q,"file-processing":"/data/bookmark/file-processing.json",angular:H,"frontend-development":"/data/bookmark/frontend/frontend-development.json",react:J,vue:K,java:Q,python:W,resource:X};function Y(r){const e={};return r.forEach((a,n)=>{var i;const c=((i=a.text)==null?void 0:i.toLowerCase())||"key"+n;e[c]=a}),e}function Z(r,e="key"){return{[r.text||e]:r}}function ae(r,e=!1){const a=u({}),n=u("loading"),c=u(null);function i(){Reflect.has(f,r)||(n.value="error",c.value=new Error(`不存在书签名为 ${r} 的数据`)),fetch(f[r]).then(t=>t.json()).then(t=>{const d=Array.isArray(t);let o=t;e&&(o=d?Y(t):Z(t,r)),a.value=o,n.value="success"}).catch(t=>{c.value=t,n.value="error"})}return i(),{data:a,state:n,error:c}}export{te as L,ae as u};
